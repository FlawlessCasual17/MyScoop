{
    "version": "2022.01.04-13.42.14",
    "homepage": "https://www.lizard-labs.com/",
    "description": "An easy and customizable tool for exploring, and analyzing Windows event logs.",
    "license": {
        "identifier": "Shareware",
        "url": "https://lizard-labs.com/Docs/TERMS_AND_CONDITIONS.html"
    },
    "url": "https://github.com/ScoopInstaller/Versions/raw/master/bucket/stunnel549.json#/remove.this",
    "hash": "574688ab6ad206fbe0eb7a6ea2745c207b7753180cc974dc27142ff9e572f575",
    "pre_install": [
        "# Manually downloading the file with `Invoke-WebRequest` because when scoop downloads the file,",
        "# it causes an extraction error when scoop tries to extract the installer afterwards.",
        "$url = 'https://www.lizard-labs.com/Downloads/EventLogObserverSetup.msi'",
        "Remove-Item \"$dir\\*\"; warn 'Downloading EventLogObserverSetup.msi...'",
        "Invoke-WebRequest $url -OutFile \"$dir\\EventLogObserverSetup.msi\"; info 'Checking hash for EventLogObserverSetup.msi...'",
        "$hash = (Get-FileHash \"$dir\\EventLogObserverSetup.msi\").Hash.ToLower();",
        "if (!($hash)) { error 'HASH CHECK FAILED!'; error 'Please try again or create an issue for this bug!'; break }",
        "elseif ($hash) { Write-Host 'Successfully calculated the hash!' -F 'Green'; info \"Sha256 Hash: $hash\" }",
        "Expand-MsiArchive \"$dir\\EventLogObserverSetup.msi\" \"$env:USERPROFILE\\temp\" -Removal",
        "Move-Item \"$env:USERPROFILE\\temp\\*\" $dir -Recurse; Remove-Item \"$env:USERPROFILE\\temp\" -Recurse"
    ],
    "pre_uninstall": "if ($purge) { Remove-Item \"$env:USERPROFILE\\Event Log Observer\" -ErrorAction 'SilentlyContinue' -Recurse }",
    "checkver": {
        "script": [
            "# Using a custom script to get the date for when it was last modified, due to the",
            "# version provided in the website (eg. '1.6') being unreliable for future updates.",
            "$url = 'https://www.lizard-labs.com/Downloads/EventLogObserverSetup.msi'",
            "[datetime][string]$date = (Invoke-WebRequest $url).Headers['Last-Modified']",
            "Write-Output ($date.ToString('yyyy.MM.dd-HH.mm.ss'))"
        ],
        "regex": "([\\d.-]+)"
    },
    "autoupdate": {
        "url": "https://github.com/ScoopInstaller/Versions/raw/master/bucket/stunnel549.json#/remove.this"
    }
}
