{
    "homepage": "https://www.snipaste.com/",
    "version": "2.8.1-Beta",
    "license": "Freeware",
    "description": "Snip & Paste, a simple but powerful snipping tool.",
    "architecture": {
        "64bit": {
            "url": "https://bitbucket.org/liule/snipaste/downloads/Snipaste-2.8.1-Beta-x64.zip",
            "hash": "sha1:db1e1f34039b27075d66d76757e09d3f13683891"
        },
        "32bit": {
            "url": "https://bitbucket.org/liule/snipaste/downloads/Snipaste-2.8.1-Beta-x86.zip",
            "hash": "sha1:5023432a7611f72efd1f6ba84613b61b5eccec62"
        }
    },
    "pre_install": [
        "if (!(Test-Path \"$persist_dir\" -Include 'config.ini', 'splog.txt')) { Set-Content \"$dir\" '' -Encoding ASCII -Include 'config.ini', 'splog.txt' }",
        "Copy-Item \"persist_dir\\*\" \"$dir\\*\" -Include 'config.ini', 'splog.txt' -ErrorAction 'SilentlyContinue' -Recurse"
    ],
    "bin": "Snipaste.exe",
    "shortcuts": [
        [
            "Snipaste.exe",
            "Snipaste"
        ]
    ],
    "suggest": {
        "vcredist": "extras/vcredist2022"
    },
    "persist": [
        "history",
        "crashes",
    ],
    "pre_uninstall": "Copy-Item \"$dir\\*\" \"persist_dir\\*\" -Include 'config.ini', 'splog.txt' -ErrorAction 'SilentlyContinue' -Recurse",
    "checkver": {
        "url": "https://bitbucket.org/liule/snipaste/downloads",
        "regex": "Snipaste-(?<main>[\\d.]+)-Beta(?<build>[\\d]*)-x86\\.zip",
        "replace": "${main}-Beta${build}"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://bitbucket.org/liule/snipaste/downloads/Snipaste-$matchMain-Beta$matchBuild-x64.zip"
            },
            "32bit": {
                "url": "https://bitbucket.org/liule/snipaste/downloads/Snipaste-$matchMain-Beta$matchBuild-x86.zip"
            }
        },
        "hash": {
            "url": "https://dl.snipaste.com/sha-1.txt",
            "regex": "($sha1)\\s\\*?\\w+-[\\d\\.+]*-Beta([\\d]*)-(x86|x64)\\.zip"
        }
    }
}
